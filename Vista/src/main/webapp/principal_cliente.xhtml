<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>EVENTOS CAMPESTRE — Renta</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/primeicons@6.0.1/primeicons.css"/>

    <style type="text/css">
        /*<![CDATA[*/
        :root{ --olive:#3f4737; --paper:#ffffff; --ink:#1d1d1b; --muted:#c5c8c0; --beige:#e8dfd3; --black:#0d0d0d; --white:#ffffff; --brown-lines:#9c8e80; --lightGray-bg:#c5c7c8; }
        *{ box-sizing:border-box; }
        html, body{ height:100%; }
        body{ margin:0; font-family:"Minerva Modern", serif; color:var(--ink); background:var(--paper); padding-top:110px; }
        .layout{ min-height:100vh; display:flex; flex-direction:column; }

        /* TOPBAR */
        .topbar { background-color: var(--olive); color: var(--white); padding: 15px 40px 10px 40px; display: flex; flex-direction: column; position: fixed; top: 0; left: 0; right: 0; z-index: 1000; box-shadow: 0 2px 4px rgba(0,0,0,0.15); transition: padding 0.25s ease, box-shadow 0.25s ease; }
        .tb-row1 { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; }
        .tb-left { display: flex; gap: 15px; align-items: center; }
        .tb-left i { font-size: 1.2rem; color: var(--white); opacity: 0.9; cursor: pointer; }
        .tb-left a { color: var(--white); text-decoration: none; opacity: 0.9; display: flex; align-items: center; }
        .tb-left a:hover { opacity: 1; }
        .tb-brand { text-align: center; font-style: italic; font-weight: 400; font-size: 2rem; letter-spacing: 0.05em; transition: font-size 0.25s ease; }
        .tb-brand a { color: var(--white); text-decoration: none; }
        .tb-right { display: flex; justify-content: flex-end; align-items: center; gap: 10px; }
        .tb-count { font-size: 1.15rem; font-style: italic; font-weight: 700; letter-spacing: 0.05em; }
        .tb-row2 { display: flex; justify-content: center; gap: 60px; margin-top: 15px; font-style: italic; font-size: 1.1rem; transition: margin-top 0.25s ease, gap 0.25s ease, font-size 0.25s ease; }
        .tb-row2 a { color: var(--white); text-decoration: none; opacity: 0.9; }
        .tb-row2 a:hover{ opacity:1; text-decoration:underline; }
        .topbar.topbar--shrink { padding: 6px 30px 4px 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.25); }
        .topbar.topbar--shrink .tb-brand { font-size: 1.5rem; }
        .topbar.topbar--shrink .tb-row2 { margin-top: 6px; gap: 40px; font-size: 1rem; }

        /* Estilos generales */
        .brand-strip{ background:#fff; border-bottom:1px solid #eee; display:flex; align-items:center; justify-content:center; padding:22px 18px; }
        .hero{ width:100%; overflow:hidden; }
        .hero__bg{ max-height:520px; height:52vw; min-height:280px; }
        .hero__bg img{ width:100%; height:100%; object-fit:cover; display:block; }
        .section-dark { background: var(--olive); color: #eef0e7; padding: 34px 0 40px; }
        .container { max-width: 1100px; margin: 0 auto; padding: 0 18px; }
        .title { display: inline-block; background: var(--olive); color: #fff; padding: 12px 16px; margin: 0; font-weight: 700; letter-spacing: .04em; }
        .sep { border: 0; border-top: 2px solid var(--muted); margin: 8px 0 26px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0; align-items: stretch; }
        .card { background: transparent; border: none; box-shadow: none; border-radius: 0; padding: 20px; min-height: 260px; display: flex; flex-direction: column; align-items: center; text-align: center; }
        .card h3, .card h4 { margin: 0 0 12px; color: #fff; }
        .card p { margin: 0 0 16px; line-height: 1.55; color: #e9eadf; }

        /* Carrusel */
        .work { background: #fff; padding: 28px 0 44px; }
        .work-title { background: #fff; color: var(--olive); }
        .work-carousel { position: relative; margin-top: 18px; overflow:hidden; }
        .work-viewport { overflow: hidden; width: 100%; }
        .work-track { display: flex; gap: 28px; will-change: transform; transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1); }
        .work-slide { flex: 0 0 calc((100% - 56px) / 3); height: 320px; display: block; object-fit: cover; border-radius: 6px; user-select: none; }
        .work-nav { position: absolute; top: 50%; transform: translateY(-50%); width: 48px; height: 48px; border-radius: 50%; border: 2px solid #fff; background: rgba(0, 0, 0, .4); display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 20; transition: background 0.3s; }
        .work-nav:hover { background: rgba(0, 0, 0, .7); }
        .work-nav i { color: #fff; font-size: 1.2rem; }
        .work-prev { left: 8px; } .work-next { right: 8px; }

        /* Botones y Footer */
        .p-button, .ui-button { background: #000 !important; border: 1px solid #000 !important; color: #fff !important; }
        .cta-btn{ background:#000 !important; border:1px solid #000 !important; color:#fff !important; }
        .footer{ background:var(--olive); color:#e9eadf; display:grid; grid-template-columns:1fr auto 1fr; gap:26px; align-items:center; padding:22px 18px; margin-top:auto; }
        .footer__right{ text-align:right; }

        /* Modal Carrito */
        .custom-cart-modal.ui-dialog { position: fixed !important; top: 75px !important; right: 40px !important; left: auto !important; box-shadow: 0 5px 30px rgba(0,0,0,0.15) !important; z-index: 1001 !important; }
        .ui-dialog .ui-dialog-titlebar { background-color: var(--olive) !important; color: var(--white) !important; border: none !important; padding: 10px 15px !important; }
        .ui-dialog .ui-dialog-content { background-color: var(--beige) !important; padding: 0 !important; color: var(--black); }
        .modal-cart-content { padding: 15px 20px; }
        .modal-item-row { display: flex; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--brown-lines); gap: 10px; }
        .modal-btn-remove { color: var(--black); opacity: 0.6; text-decoration: none; }
        .modal-item-img { width: 40px; height: 40px; object-fit: cover; border: 1px solid #ccc; }
        .modal-item-name { flex: 1; font-weight: 600; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .modal-qty-selector { display: flex; align-items: center; background-color: var(--lightGray-bg); border: 1px solid var(--black); padding: 2px 5px; gap: 8px; }
        .modal-qty-selector .ui-inputnumber input { background: transparent !important; border: none !important; width: 40px !important; text-align: center; }
        .modal-item-price { font-weight: 600; min-width: 60px; text-align: right; font-size: 0.95rem; }

        @media (max-width:1100px){ .grid-3{ grid-template-columns:1fr; } .footer{ grid-template-columns:1fr; text-align:center; } .footer__right{ text-align:center; } .work-slide { height: 240px; flex: 0 0 100%; } }
        /*]]>*/
    </style>

    <script type="text/javascript">
        window.addEventListener('DOMContentLoaded', function () {
            var topbar = document.querySelector('.topbar');
            if (!topbar) return;
            window.addEventListener('scroll', function () {
                if (window.scrollY > 120) { topbar.classList.add('topbar--shrink'); } else { topbar.classList.remove('topbar--shrink'); }
            });
        });
    </script>
</h:head>

<h:body>
    <h:form id="formRenta">
        <div class="layout">

            <header class="topbar">
                <div class="tb-row1">
                    <div class="tb-left">
                        <a href="https://www.facebook.com/cositastanbellas?locale=es_LA" class="tb-icon"><i class="pi pi-facebook"/></a>
                        <a href="https://w.app/eventoscampestre" class="tb-icon"><i class="pi pi-whatsapp"/></a>
                        <a href="principal_cliente.xhtml" class="tb-icon" title="Inicio">
                            <i class="pi pi-home"/>
                        </a>
                    </div>
                    <div class="tb-brand">
                        <a href="principal_cliente.xhtml">EVENTOS CAMPESTRE</a>
                    </div>
                    <div class="tb-right">
                        <p:commandLink onclick="PF('carritoModal').show(); return false;" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 5px; cursor: pointer;">
                            <i class="pi pi-shopping-cart" style="font-size: 1.4rem;"/>
                            <h:panelGroup id="tb-count-group">
                                <span class="tb-count">#{carritoBean.carrito.conteoTotalItems}</span>
                            </h:panelGroup>
                        </p:commandLink>
                    </div>
                </div>
                <nav class="tb-row2">
                    <a href="acercaDe.xhtml">Acerca de</a>
                    <a href="renta_cliente.xhtml">Renta</a>
                    <a href="contacto.xhtml">Contacto</a>
                </nav>
            </header>

            <section class="brand-strip">
                <h:graphicImage library="img" name="logo-eventos-campestre.webp" alt="Eventos Campestre"/>
            </section>

            <section class="hero">
                <div class="hero__bg">
                    <h:graphicImage library="img" name="hero-jardin.png" alt="Jardín con mesas"/>
                </div>
            </section>

            <section class="section-dark">
                <div class="container">
                    <h2 class="title">VISITA NUESTRO CATALOGO</h2>
                    <hr class="sep"/>
                    <div class="grid-3">
                        <div class="card col-asesoria">
                            <h3>ASESORIA</h3>
                            <p:commandButton value="Mas información" action="acercaDe?faces-redirect=true" styleClass="p-button-outlined p-button-secondary full" process="@this"/>
                        </div>
                        <div class="card col-catalogo">
                            <h4>EN NUESTRO CATALOGO</h4>
                            <p>Encontrarás sillas, mesas, aire para el verano, calentones para invierno...</p>
                            <p:commandButton value="Catalogo" onclick="document.getElementById('workCarousel').scrollIntoView({behavior: 'smooth'});" type="button" styleClass="p-button-secondary"/>
                        </div>
                        <div class="card col-nosotros">
                            <h4>NOSOTROS</h4>
                            <p>Nos comprometemos a entregar a la hora acordada según su preferencia...</p>
                        </div>
                    </div>
                </div>
            </section>

            <section class="work">
                <div class="container">
                    <h2 class="title work-title">NUESTRO TRABAJO</h2>
                    <div class="work-carousel" id="workCarousel">
                        <button type="button" class="work-nav work-prev" aria-label="Anterior"><i class="pi pi-chevron-left"></i></button>
                        <div class="work-viewport">
                            <div class="work-track">
                                <h:graphicImage library="img" name="trabajo-1.png" styleClass="work-slide"/>
                                <h:graphicImage library="img" name="trabajo-2.png" styleClass="work-slide"/>
                                <h:graphicImage library="img" name="trabajo-3.png" styleClass="work-slide"/>
                                <h:graphicImage library="img" name="trabajo-1.png" styleClass="work-slide"/>
                                <h:graphicImage library="img" name="trabajo-2.png" styleClass="work-slide"/>
                                <h:graphicImage library="img" name="trabajo-3.png" styleClass="work-slide"/>
                            </div>
                        </div>
                        <button type="button" class="work-nav work-next" aria-label="Siguiente"><i class="pi pi-chevron-right"></i></button>
                    </div>
                </div>
            </section>

            <p:dialog header="Mi carrito" widgetVar="carritoModal" draggable="false" resizable="false" showEffect="fade" hideEffect="fade" styleClass="custom-cart-modal" closeOnEscape="true" responsive="true" width="350">
                <p:ajax event="close" update=":formRenta:tb-count-group" />
                <h:panelGroup id="modalCarritoContent" layout="block" styleClass="modal-cart-content">
                    <p:outputPanel rendered="#{carritoBean.carrito.vacio}" style="display:block; text-align:center; padding: 20px 0; font-style: italic;">Tu carrito esta vacio.</p:outputPanel>
                    <p:dataList value="#{carritoBean.carrito.items}" var="item" type="none" styleClass="dl-reset" rendered="#{not carritoBean.carrito.vacio}">
                        <div class="modal-item-row">
                            <p:commandLink actionListener="#{carritoBean.eliminarItem(item)}" update=":formRenta:modalCarritoContent :formRenta:tb-count-group" styleClass="modal-btn-remove"><i class="pi pi-minus-circle"/></p:commandLink>
                            <h:graphicImage rendered="#{not empty item.articulo}" value="#{articuloUI.getImagenBase64(item.articulo)}" styleClass="modal-item-img"/>
                            <h:outputText value="#{item.articulo.nombre}" styleClass="modal-item-name"/>
                            <div class="modal-qty-selector">
                                <p:commandLink actionListener="#{carritoBean.decrementarCantidad(item)}" update=":formRenta:modalCarritoContent :formRenta:tb-count-group" disabled="#{item.cantidad le 1}"><i class="pi pi-minus" style="font-size: 0.7rem;"/></p:commandLink>
                                <h:outputText value="#{item.cantidad}" style="width: 30px; text-align:center; font-weight:bold;"/>
                                <p:commandLink actionListener="#{carritoBean.incrementarCantidad(item)}" update=":formRenta:modalCarritoContent :formRenta:tb-count-group"><i class="pi pi-plus" style="font-size: 0.7rem;"/></p:commandLink>
                            </div>
                            <h:outputText value="#{item.precioTotal}" styleClass="modal-item-price"><f:convertNumber type="currency" currencySymbol="$" maxFractionDigits="0"/></h:outputText>
                        </div>
                    </p:dataList>
                    <h:panelGroup layout="block" style="margin-top: 15px; border-top: 2px solid var(--olive); padding-top: 15px;" rendered="#{not carritoBean.carrito.vacio}">
                        <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 1.1rem; margin-bottom: 15px;"><span>Total:</span><h:outputText value="#{carritoBean.carrito.total}"><f:convertNumber type="currency" currencySymbol="$" maxFractionDigits="0"/></h:outputText></div>
                        <p:button value="Ver Carrito Completo" outcome="/Carrito.xhtml" styleClass="cta-btn" style="width: 100%;"/>
                    </h:panelGroup>
                </h:panelGroup>
            </p:dialog>

            <footer class="footer">
                <div class="footer__left">
                    <div class="foot-brand"><i class="pi pi-briefcase"></i> EVENTOS CAMPESTRE</div>
                    <div class="foot-wa">WhatsApp: 6862632183 , 6863120350</div>
                    <div class="foot-copy">Copyright ©MoonSoftware · Todos los derechos reservados.</div>
                </div>
                <div class="footer__center"></div>
                <div class="footer__right">
                    <div class="foot-title">UBICACION</div>
                    <div>Mexicali Baja California<br/>Mexico.</div>
                </div>
            </footer>
        </div>

        <h:outputScript target="body">
            //<![CDATA[
            (function () {
                var root = document.getElementById('workCarousel'); if (!root) return;
                var track = root.querySelector('.work-track'); var slides = Array.prototype.slice.call(root.querySelectorAll('.work-slide'));
                var idx = 0; var isAnimating = false; var transitionTime = 500;
                function getVisibleCount() { return window.innerWidth <= 980 ? 1 : 3; }
                function stepPx() { var first = slides[0]; if (!first) return 0; var w = first.getBoundingClientRect().width; var style = getComputedStyle(track); var gap = parseFloat(style.gap || '0'); if(isNaN(gap)) gap = 0; return w + gap; }
                function maxIndex() { return slides.length - getVisibleCount(); }
                function set(i, animate) { if (animate) { track.style.transition = 'transform ' + (transitionTime/1000) + 's cubic-bezier(0.25, 1, 0.5, 1)'; } else { track.style.transition = 'none'; } track.style.transform = 'translateX(' + (-i * stepPx()) + 'px)'; }
                function next() { if (isAnimating) return; isAnimating = true; var m = maxIndex(); if (idx >= m) { idx = 0; set(idx, false); void track.offsetWidth; } idx++; set(idx, true); setTimeout(function(){ isAnimating = false; }, transitionTime); }
                function prev() { if (isAnimating) return; isAnimating = true; var m = maxIndex(); if (idx <= 0) { idx = m; set(idx, false); void track.offsetWidth; } idx--; set(idx, true); setTimeout(function(){ isAnimating = false; }, transitionTime); }
                var nextBtn = root.querySelector('.work-next'); var prevBtn = root.querySelector('.work-prev'); if (nextBtn) nextBtn.addEventListener('click', next); if (prevBtn) prevBtn.addEventListener('click', prev);
                window.addEventListener('resize', function () { set(idx, false); }); set(0, false);
            })();
            //]]>
        </h:outputScript>
    </h:form>
</h:body>
</html>